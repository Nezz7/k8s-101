# generated by kubectl create cm myconfig --from-literal=NAME=ENICarthage -o yaml --dry-run=client
apiVersion: v1
data:
  NAME: ENICarthage
kind: ConfigMap
metadata:
  name: myconfig
  namespace: demo
---
apiVersion: v1
kind: Pod
metadata:
  name: mypod
  namespace: demo
  labels:
    name: mypod
spec:
  volumes:
    - name: secret-volume
      secret:
        secretName: mysecret
  containers:
  - name: go-server
    image: go-server:v1
    # env:
    #   - name: NAME
    #     valueFrom:
    #       configMapKeyRef:
    #         name: myconfig
    #         key: NAME
    envFrom:
      - configMapRef:
          name: myconfig
    volumeMounts:
    - name: secret-volume
      readOnly: true
      mountPath: /var/secrets
